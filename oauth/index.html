<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root {
    color-scheme: dark light;
  }
</style>
<title>oauth redirect</title>
<link rel="icon" href="/assets/favicon.webp" />
<h1>gmail oauth redirect page</h1>
<div id="authCodeDivFailure" style="display: none">
  <p>
    this is a gmail redirect uri webpage from a gmail consent page. This page
    was originally scraped from
    <a
      target="_blank"
      href="https://web.archive.org/web/20240325044835/https://oauth2.dance/"
      >oauth2.dance</a
    >
    <br />don't know what this webpage is for? check out
    <a
      target="_blank"
      href="https://github.com/jtof-dev/dotfiles/tree/main/crossPlatform#aerc"
      >my documentation</a
    >
    <br />finally, the scraped website is also archived
    <a
      target="_blank"
      href="https://github.com/jtof-dev/jtof.dev/tree/oauth2.dance"
      >here</a
    >
  </p>
</div>
<div id="authCodeDivSuccess" style="display: none">
  Authorisation Code:
  <span
    id="authCodeSpan"
    style="font-family: monospace; font-weight: bold"
  ></span>
  <br />
  <button id="authCodeButton">Copy To Clipboard</button>
</div>
<script>
  var searchParams = new URLSearchParams(window.location.search);
  var code = searchParams.get("code");
  if (code === null) {
    var div = document.getElementById("authCodeDivFailure");
    div.style = "";
  } else {
    var button = document.getElementById("authCodeButton");
    button.addEventListener("click", (e) => {
      navigator.clipboard.writeText(code);
    });
    var span = document.getElementById("authCodeSpan");
    span.textContent = code;
    var div = document.getElementById("authCodeDivSuccess");
    div.style = "";
  }
</script>
